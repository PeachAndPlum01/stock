# æ•…éšœå¤„ç†æ‰‹å†Œ

## ğŸ“‹ ç›®å½•

1. [æœåŠ¡æ•…éšœ](#æœåŠ¡æ•…éšœ)
2. [æ•°æ®åº“æ•…éšœ](#æ•°æ®åº“æ•…éšœ)
3. [ç¼“å­˜æ•…éšœ](#ç¼“å­˜æ•…éšœ)
4. [æ¶ˆæ¯é˜Ÿåˆ—æ•…éšœ](#æ¶ˆæ¯é˜Ÿåˆ—æ•…éšœ)
5. [ç½‘ç»œæ•…éšœ](#ç½‘ç»œæ•…éšœ)
6. [æ€§èƒ½é—®é¢˜](#æ€§èƒ½é—®é¢˜)
7. [å¸¸è§é”™è¯¯](#å¸¸è§é”™è¯¯)

---

## ğŸš¨ æœåŠ¡æ•…éšœ

### é—®é¢˜1: æœåŠ¡æ— æ³•å¯åŠ¨

**ç—‡çŠ¶**:
- å®¹å™¨å¯åŠ¨åç«‹å³é€€å‡º
- å¥åº·æ£€æŸ¥å¤±è´¥

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs stock-gateway-1

# 2. æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker inspect stock-gateway-1

# 3. æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep 8080

# 4. æ£€æŸ¥é…ç½®æ–‡ä»¶
docker exec stock-gateway-1 cat /app/application.yml
```

**å¸¸è§åŸå› **:
1. **ç«¯å£è¢«å ç”¨**: ä¿®æ”¹ç«¯å£æˆ–åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
2. **é…ç½®é”™è¯¯**: æ£€æŸ¥application.ymlé…ç½®
3. **ä¾èµ–æœåŠ¡æœªå¯åŠ¨**: ç¡®ä¿MySQLã€Redisã€Nacoså·²å¯åŠ¨
4. **å†…å­˜ä¸è¶³**: å¢åŠ JVMå†…å­˜æˆ–æœåŠ¡å™¨å†…å­˜

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡å¯æœåŠ¡
docker-compose -f docker-compose.prod.yml restart stock-gateway-1

# å¦‚æœé—®é¢˜æŒç»­ï¼Œé‡æ–°æ„å»ºé•œåƒ
docker-compose -f docker-compose.prod.yml build stock-gateway
docker-compose -f docker-compose.prod.yml up -d stock-gateway-1
```

### é—®é¢˜2: æœåŠ¡é¢‘ç¹é‡å¯

**ç—‡çŠ¶**:
- å®¹å™¨ä¸æ–­é‡å¯
- æ—¥å¿—æ˜¾ç¤ºOOMæˆ–è¿æ¥è¶…æ—¶

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æŸ¥çœ‹é‡å¯æ¬¡æ•°
docker ps -a | grep stock-gateway

# 2. æŸ¥çœ‹èµ„æºä½¿ç”¨
docker stats stock-gateway-1

# 3. æŸ¥çœ‹JVMå†…å­˜
docker exec stock-gateway-1 jstat -gc 1
```

**å¸¸è§åŸå› **:
1. **å†…å­˜æº¢å‡º**: JVMå †å†…å­˜ä¸è¶³
2. **è¿æ¥æ± è€—å°½**: æ•°æ®åº“æˆ–Redisè¿æ¥æ± é…ç½®ä¸å½“
3. **æ­»é”**: åº”ç”¨ä»£ç å­˜åœ¨æ­»é”

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å¢åŠ JVMå†…å­˜
# ç¼–è¾‘Dockerfileï¼Œä¿®æ”¹JAVA_OPTS
ENV JAVA_OPTS="-Xms1g -Xmx2g -XX:+UseG1GC"

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
docker-compose -f docker-compose.prod.yml build stock-gateway
docker-compose -f docker-compose.prod.yml up -d stock-gateway-1
```

### é—®é¢˜3: æœåŠ¡å“åº”æ…¢

**ç—‡çŠ¶**:
- APIå“åº”æ—¶é—´è¶…è¿‡3ç§’
- ç”¨æˆ·åé¦ˆé¡µé¢åŠ è½½æ…¢

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æŸ¥çœ‹Prometheusç›‘æ§
# è®¿é—® http://localhost:9090
# æŸ¥è¯¢: histogram_quantile(0.95, rate(http_server_requests_seconds_bucket[5m]))

# 2. æŸ¥çœ‹çº¿ç¨‹çŠ¶æ€
docker exec stock-gateway-1 jstack 1 > thread_dump.txt

# 3. æŸ¥çœ‹æ…¢æŸ¥è¯¢
docker exec stock-mysql-master mysql -uroot -p${MYSQL_ROOT_PASSWORD} \
  -e "SELECT * FROM mysql.slow_log ORDER BY query_time DESC LIMIT 10;"

# 4. æŸ¥çœ‹Redisæ…¢æ—¥å¿—
docker exec stock-redis-master redis-cli -a ${REDIS_PASSWORD} slowlog get 10
```

**å¸¸è§åŸå› **:
1. **æ•°æ®åº“æ…¢æŸ¥è¯¢**: ç¼ºå°‘ç´¢å¼•æˆ–æŸ¥è¯¢ä¸ä¼˜åŒ–
2. **ç¼“å­˜æœªå‘½ä¸­**: Redisç¼“å­˜å¤±æ•ˆæˆ–æœªé…ç½®
3. **çº¿ç¨‹æ± æ»¡**: çº¿ç¨‹æ± é…ç½®è¿‡å°
4. **ç½‘ç»œå»¶è¿Ÿ**: æœåŠ¡é—´è°ƒç”¨è¶…æ—¶

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ä¼˜åŒ–æ•°æ®åº“ç´¢å¼•
docker exec stock-mysql-master mysql -uroot -p${MYSQL_ROOT_PASSWORD} \
  -e "ALTER TABLE stock_daily ADD INDEX idx_ts_code_trade_date (ts_code, trade_date);"

# å¢åŠ çº¿ç¨‹æ± å¤§å°
# ç¼–è¾‘application.yml
server:
  tomcat:
    threads:
      max: 500
      min-spare: 50
```

---

## ğŸ’¾ æ•°æ®åº“æ•…éšœ

### é—®é¢˜1: MySQLä¸»åº“å®•æœº

**ç—‡çŠ¶**:
- åº”ç”¨æ— æ³•å†™å…¥æ•°æ®
- è¿æ¥MySQLå¤±è´¥

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æ£€æŸ¥MySQLçŠ¶æ€
docker ps | grep mysql-master

# 2. æŸ¥çœ‹MySQLæ—¥å¿—
docker logs stock-mysql-master

# 3. æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. å°è¯•é‡å¯MySQL
docker-compose -f docker-compose.prod.yml restart mysql-master

# 2. å¦‚æœæ— æ³•å¯åŠ¨ï¼Œæå‡ä»åº“ä¸ºä¸»åº“
# åœ¨ä»åº“æ‰§è¡Œ
docker exec stock-mysql-slave-1 mysql -uroot -p${MYSQL_ROOT_PASSWORD} <<EOF
STOP SLAVE;
RESET SLAVE ALL;
SET GLOBAL read_only = OFF;
SET GLOBAL super_read_only = OFF;
EOF

# 3. ä¿®æ”¹åº”ç”¨é…ç½®ï¼ŒæŒ‡å‘æ–°ä¸»åº“
# ç¼–è¾‘docker-compose.prod.ymlï¼Œå°†æ•°æ®æºæŒ‡å‘mysql-slave-1

# 4. é‡å¯åº”ç”¨æœåŠ¡
docker-compose -f docker-compose.prod.yml restart stock-data-service-1 stock-data-service-2
```

### é—®é¢˜2: ä¸»ä»å¤åˆ¶å»¶è¿Ÿ

**ç—‡çŠ¶**:
- ä»åº“æ•°æ®ä¸ä¸€è‡´
- è¯»å–åˆ°æ—§æ•°æ®

**æ’æŸ¥æ­¥éª¤**:
```bash
# æ£€æŸ¥ä¸»ä»å»¶è¿Ÿ
docker exec stock-mysql-slave-1 mysql -uroot -p${MYSQL_ROOT_PASSWORD} \
  -e "SHOW SLAVE STATUS\G" | grep Seconds_Behind_Master
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. å¦‚æœå»¶è¿Ÿå°äº30ç§’ï¼Œç­‰å¾…åŒæ­¥å®Œæˆ

# 2. å¦‚æœå»¶è¿ŸæŒç»­å¢å¤§ï¼Œæ£€æŸ¥ç½‘ç»œå’Œç£ç›˜IO
iostat -x 1

# 3. ä¼˜åŒ–ä¸»ä»å¤åˆ¶å‚æ•°
docker exec stock-mysql-slave-1 mysql -uroot -p${MYSQL_ROOT_PASSWORD} <<EOF
SET GLOBAL slave_parallel_workers = 4;
SET GLOBAL slave_parallel_type = 'LOGICAL_CLOCK';
EOF

# 4. å¦‚æœå»¶è¿Ÿè¿‡å¤§ï¼Œé‡å»ºä»åº“
# åœ¨ä¸»åº“å¯¼å‡ºæ•°æ®
docker exec stock-mysql-master mysqldump -uroot -p${MYSQL_ROOT_PASSWORD} \
  --all-databases --master-data=2 > master_backup.sql

# åœ¨ä»åº“å¯¼å…¥
docker exec -i stock-mysql-slave-1 mysql -uroot -p${MYSQL_ROOT_PASSWORD} < master_backup.sql

# é‡æ–°é…ç½®ä¸»ä»å¤åˆ¶
```

### é—®é¢˜3: è¿æ¥æ± è€—å°½

**ç—‡çŠ¶**:
- åº”ç”¨æ—¥å¿—æ˜¾ç¤º "Connection pool exhausted"
- æ•°æ®åº“è¿æ¥æ•°è¾¾åˆ°ä¸Šé™

**æ’æŸ¥æ­¥éª¤**:
```bash
# æŸ¥çœ‹å½“å‰è¿æ¥æ•°
docker exec stock-mysql-master mysql -uroot -p${MYSQL_ROOT_PASSWORD} \
  -e "SHOW PROCESSLIST;"

# æŸ¥çœ‹è¿æ¥æ•°ç»Ÿè®¡
docker exec stock-mysql-master mysql -uroot -p${MYSQL_ROOT_PASSWORD} \
  -e "SHOW STATUS LIKE 'Threads_connected';"
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. å¢åŠ æ•°æ®åº“æœ€å¤§è¿æ¥æ•°
docker exec stock-mysql-master mysql -uroot -p${MYSQL_ROOT_PASSWORD} \
  -e "SET GLOBAL max_connections = 2000;"

# 2. ä¼˜åŒ–åº”ç”¨è¿æ¥æ± é…ç½®
# ç¼–è¾‘application.yml
spring:
  datasource:
    hikari:
      maximum-pool-size: 50
      minimum-idle: 10
      connection-timeout: 30000
      idle-timeout: 600000

# 3. æ£€æŸ¥æ˜¯å¦æœ‰è¿æ¥æ³„æ¼
# æŸ¥çœ‹é•¿æ—¶é—´æœªå…³é—­çš„è¿æ¥
docker exec stock-mysql-master mysql -uroot -p${MYSQL_ROOT_PASSWORD} \
  -e "SELECT * FROM information_schema.processlist WHERE Time > 300;"
```

---

## ğŸ”´ ç¼“å­˜æ•…éšœ

### é—®é¢˜1: Redisä¸»åº“å®•æœº

**ç—‡çŠ¶**:
- åº”ç”¨æ— æ³•å†™å…¥ç¼“å­˜
- Sentinelè‡ªåŠ¨åˆ‡æ¢ä¸»åº“

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æ£€æŸ¥RedisçŠ¶æ€
docker ps | grep redis

# 2. æŸ¥çœ‹Sentinelæ—¥å¿—
docker logs stock-redis-sentinel-1

# 3. æŸ¥çœ‹å½“å‰ä¸»åº“
docker exec stock-redis-sentinel-1 redis-cli -p 26379 sentinel master mymaster
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# Sentinelä¼šè‡ªåŠ¨è¿›è¡Œæ•…éšœè½¬ç§»ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„

# 1. ç¡®è®¤æ–°ä¸»åº“
docker exec stock-redis-sentinel-1 redis-cli -p 26379 sentinel get-master-addr-by-name mymaster

# 2. ä¿®å¤åŸä¸»åº“åï¼Œå°†å…¶ä½œä¸ºä»åº“åŠ å…¥
docker-compose -f docker-compose.prod.yml restart redis-master

# 3. éªŒè¯ä¸»ä»çŠ¶æ€
docker exec stock-redis-master redis-cli -a ${REDIS_PASSWORD} info replication
```

### é—®é¢˜2: ç¼“å­˜é›ªå´©

**ç—‡çŠ¶**:
- å¤§é‡ç¼“å­˜åŒæ—¶å¤±æ•ˆ
- æ•°æ®åº“è´Ÿè½½çªç„¶å‡é«˜
- åº”ç”¨å“åº”å˜æ…¢

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æŸ¥çœ‹Rediså‘½ä¸­ç‡
docker exec stock-redis-master redis-cli -a ${REDIS_PASSWORD} info stats | grep keyspace

# 2. æŸ¥çœ‹æ•°æ®åº“QPS
docker exec stock-mysql-master mysql -uroot -p${MYSQL_ROOT_PASSWORD} \
  -e "SHOW GLOBAL STATUS LIKE 'Questions';"
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. ç´§æ€¥æªæ–½ï¼šé™æµ
# åœ¨Gatewayé…ç½®é™æµè§„åˆ™

# 2. é¢„çƒ­ç¼“å­˜
# æ‰§è¡Œç¼“å­˜é¢„çƒ­è„šæœ¬
curl -X POST http://localhost:8080/api/cache/warmup

# 3. è®¾ç½®éšæœºè¿‡æœŸæ—¶é—´
# ä¿®æ”¹ä»£ç ï¼Œä¸ºç¼“å­˜æ·»åŠ éšæœºè¿‡æœŸæ—¶é—´
# TTL = BASE_TTL + random(0, 300)
```

### é—®é¢˜3: ç¼“å­˜ç©¿é€

**ç—‡çŠ¶**:
- æŸ¥è¯¢ä¸å­˜åœ¨çš„æ•°æ®
- è¯·æ±‚ç›´æ¥æ‰“åˆ°æ•°æ®åº“

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨
# åœ¨Redisä¸­åˆ›å»ºå¸ƒéš†è¿‡æ»¤å™¨

# 2. ç¼“å­˜ç©ºå€¼
# å¯¹ä¸å­˜åœ¨çš„æ•°æ®ä¹Ÿè¿›è¡Œç¼“å­˜ï¼Œè®¾ç½®è¾ƒçŸ­çš„è¿‡æœŸæ—¶é—´
```

---

## ğŸ“¨ æ¶ˆæ¯é˜Ÿåˆ—æ•…éšœ

### é—®é¢˜1: RabbitMQé˜Ÿåˆ—ç§¯å‹

**ç—‡çŠ¶**:
- é˜Ÿåˆ—æ¶ˆæ¯æ•°æŒç»­å¢é•¿
- æ¶ˆè´¹é€Ÿåº¦è·Ÿä¸ä¸Šç”Ÿäº§é€Ÿåº¦

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æŸ¥çœ‹é˜Ÿåˆ—çŠ¶æ€
docker exec stock-rabbitmq-1 rabbitmqctl list_queues name messages consumers

# 2. æŸ¥çœ‹æ¶ˆè´¹è€…çŠ¶æ€
docker exec stock-rabbitmq-1 rabbitmqctl list_consumers
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. å¢åŠ æ¶ˆè´¹è€…æ•°é‡
# ä¿®æ”¹application.yml
spring:
  rabbitmq:
    listener:
      simple:
        concurrency: 10
        max-concurrency: 20

# 2. ä¼˜åŒ–æ¶ˆè´¹é€»è¾‘
# æ£€æŸ¥æ¶ˆè´¹è€…ä»£ç ï¼Œä¼˜åŒ–å¤„ç†é€Ÿåº¦

# 3. ä¸´æ—¶æ¸…ç©ºé˜Ÿåˆ—ï¼ˆè°¨æ…æ“ä½œï¼‰
docker exec stock-rabbitmq-1 rabbitmqctl purge_queue queue_name
```

### é—®é¢˜2: RabbitMQé›†ç¾¤è„‘è£‚

**ç—‡çŠ¶**:
- é›†ç¾¤èŠ‚ç‚¹æ— æ³•é€šä¿¡
- å‡ºç°å¤šä¸ªä¸»èŠ‚ç‚¹

**æ’æŸ¥æ­¥éª¤**:
```bash
# æŸ¥çœ‹é›†ç¾¤çŠ¶æ€
docker exec stock-rabbitmq-1 rabbitmqctl cluster_status
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. åœæ­¢æ‰€æœ‰èŠ‚ç‚¹
docker-compose -f docker-compose.prod.yml stop rabbitmq-1 rabbitmq-2 rabbitmq-3

# 2. å¯åŠ¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
docker-compose -f docker-compose.prod.yml start rabbitmq-1

# 3. ä¾æ¬¡å¯åŠ¨å…¶ä»–èŠ‚ç‚¹
docker-compose -f docker-compose.prod.yml start rabbitmq-2
sleep 10
docker-compose -f docker-compose.prod.yml start rabbitmq-3

# 4. éªŒè¯é›†ç¾¤çŠ¶æ€
docker exec stock-rabbitmq-1 rabbitmqctl cluster_status
```

---

## ğŸŒ ç½‘ç»œæ•…éšœ

### é—®é¢˜1: æœåŠ¡é—´è°ƒç”¨è¶…æ—¶

**ç—‡çŠ¶**:
- Feignè°ƒç”¨è¶…æ—¶
- é“¾è·¯è¿½è¸ªæ˜¾ç¤ºè°ƒç”¨å¤±è´¥

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æµ‹è¯•ç½‘ç»œè¿é€šæ€§
docker exec stock-gateway-1 ping stock-auth-service-1

# 2. æŸ¥çœ‹DNSè§£æ
docker exec stock-gateway-1 nslookup stock-auth-service-1

# 3. æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
iptables -L -n
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. å¢åŠ è¶…æ—¶æ—¶é—´
# ç¼–è¾‘application.yml
feign:
  client:
    config:
      default:
        connectTimeout: 5000
        readTimeout: 10000

# 2. é…ç½®é‡è¯•æœºåˆ¶
spring:
  cloud:
    loadbalancer:
      retry:
        enabled: true
```

### é—®é¢˜2: ç½‘å…³é™æµè§¦å‘

**ç—‡çŠ¶**:
- è¿”å›429çŠ¶æ€ç 
- ç”¨æˆ·æ— æ³•è®¿é—®

**æ’æŸ¥æ­¥éª¤**:
```bash
# æŸ¥çœ‹é™æµæ—¥å¿—
docker logs stock-gateway-1 | grep "rate limit"
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. ä¸´æ—¶æé«˜é™æµé˜ˆå€¼
# ç¼–è¾‘Nginxé…ç½®
limit_req zone=api_limit burst=50 nodelay;

# 2. é‡è½½Nginxé…ç½®
docker exec stock-nginx nginx -s reload

# 3. åˆ†ææ˜¯å¦ä¸ºæ”»å‡»æµé‡
# æŸ¥çœ‹è®¿é—®æ—¥å¿—
docker exec stock-nginx tail -f /var/log/nginx/access.log
```

---

## âš¡ æ€§èƒ½é—®é¢˜

### é—®é¢˜1: CPUä½¿ç”¨ç‡è¿‡é«˜

**ç—‡çŠ¶**:
- CPUä½¿ç”¨ç‡æŒç»­è¶…è¿‡80%
- åº”ç”¨å“åº”å˜æ…¢

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æŸ¥çœ‹CPUä½¿ç”¨æƒ…å†µ
docker stats

# 2. æŸ¥çœ‹çº¿ç¨‹CPUä½¿ç”¨
docker exec stock-gateway-1 top -H -p 1

# 3. ç”Ÿæˆçº¿ç¨‹dump
docker exec stock-gateway-1 jstack 1 > thread_dump.txt
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. åˆ†æçº¿ç¨‹dumpï¼Œæ‰¾å‡ºCPUå ç”¨é«˜çš„çº¿ç¨‹

# 2. ä¼˜åŒ–ä»£ç é€»è¾‘

# 3. å¢åŠ æœåŠ¡å®ä¾‹
docker-compose -f docker-compose.prod.yml scale stock-gateway=5
```

### é—®é¢˜2: å†…å­˜ä½¿ç”¨ç‡è¿‡é«˜

**ç—‡çŠ¶**:
- å†…å­˜ä½¿ç”¨ç‡è¶…è¿‡90%
- é¢‘ç¹Full GC

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æŸ¥çœ‹å†…å­˜ä½¿ç”¨
docker stats

# 2. æŸ¥çœ‹JVMå†…å­˜
docker exec stock-gateway-1 jstat -gcutil 1 1000 10

# 3. ç”Ÿæˆå †dump
docker exec stock-gateway-1 jmap -dump:format=b,file=/tmp/heap.hprof 1
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. åˆ†æå †dumpï¼Œæ‰¾å‡ºå†…å­˜æ³„æ¼

# 2. å¢åŠ JVMå†…å­˜
ENV JAVA_OPTS="-Xms2g -Xmx4g"

# 3. ä¼˜åŒ–GCå‚æ•°
ENV JAVA_OPTS="-XX:+UseG1GC -XX:MaxGCPauseMillis=200"
```

---

## âŒ å¸¸è§é”™è¯¯

### é”™è¯¯1: "Connection refused"

**åŸå› **: ç›®æ ‡æœåŠ¡æœªå¯åŠ¨æˆ–ç«¯å£ä¸æ­£ç¡®

**è§£å†³**:
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker ps | grep target-service

# æ£€æŸ¥ç«¯å£
netstat -tlnp | grep port
```

### é”™è¯¯2: "No available server"

**åŸå› **: Nacosä¸­æ²¡æœ‰å¯ç”¨çš„æœåŠ¡å®ä¾‹

**è§£å†³**:
```bash
# æ£€æŸ¥æœåŠ¡æ³¨å†Œ
curl http://localhost:8848/nacos/v1/ns/instance/list?serviceName=stock-auth-service

# é‡å¯æœåŠ¡
docker-compose -f docker-compose.prod.yml restart stock-auth-service-1
```

### é”™è¯¯3: "Access denied for user"

**åŸå› **: æ•°æ®åº“ç”¨æˆ·æƒé™ä¸è¶³

**è§£å†³**:
```bash
# æˆäºˆæƒé™
docker exec stock-mysql-master mysql -uroot -p${MYSQL_ROOT_PASSWORD} <<EOF
GRANT ALL PRIVILEGES ON stock_investment.* TO 'stock_data_user'@'%';
FLUSH PRIVILEGES;
EOF
```

---

## ğŸ“ ç´§æ€¥è”ç³»

å¦‚æœä»¥ä¸Šæ–¹æ³•æ— æ³•è§£å†³é—®é¢˜ï¼Œè¯·ç«‹å³è”ç³»ï¼š

- **æŠ€æœ¯æ”¯æŒ**: support@company.com
- **ç´§æ€¥çƒ­çº¿**: 400-xxx-xxxx
- **å€¼ç­ç”µè¯**: 138-xxxx-xxxx

**ä¸ŠæŠ¥ä¿¡æ¯**:
1. æ•…éšœç°è±¡æè¿°
2. å‘ç”Ÿæ—¶é—´
3. å½±å“èŒƒå›´
4. å·²é‡‡å–çš„æªæ–½
5. ç›¸å…³æ—¥å¿—æ–‡ä»¶

---

**æ–‡æ¡£ç»´æŠ¤**: è¿ç»´å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2026-02-06
