# 🚀 快速入门指南

欢迎使用股票系统！本指南将帮助您在5分钟内启动并体验所有核心功能。

---

## 📋 前置要求

确保您的系统已安装：
- ✅ Docker & Docker Compose
- ✅ Git
- ✅ 至少8GB可用内存

---

## 🎯 三步启动

### 第一步：克隆项目
```bash
git clone <your-repo-url>
cd stock
```

### 第二步：配置环境
```bash
# 复制环境变量模板
cp .env.template .env

# 编辑配置（可选，使用默认配置即可快速体验）
vim .env
```

### 第三步：一键启动
```bash
# 执行部署脚本
./scripts/deploy-technical-components.sh

# 等待约2分钟，所有服务将自动启动
```

---

## 🎮 体验核心功能

### 1. 实时行情推送 (WebSocket)

#### 方式1: 使用API
```bash
# 生成模拟行情
curl -X POST "http://localhost:8085/api/realtime/quote/mock/000001?stockName=平安银行"

# 获取实时行情
curl http://localhost:8085/api/realtime/quote/000001
```

---

### 2. 技术指标计算

```bash
# 查看技术指标（需要先有K线数据）
curl http://localhost:8085/api/realtime/indicator/000001
```

**支持的指标**:
- MA (移动平均线)
- MACD (指数平滑异同移动平均线)
- KDJ (随机指标)
- RSI (相对强弱指标)
- BOLL (布林带)

---

### 3. 查看监控面板

#### Spring Boot Admin
```
地址: http://localhost:8090
账号: admin
密码: admin123
```

#### InfluxDB
```
地址: http://localhost:8086
账号: admin
密码: admin123456
```

#### Zipkin链路追踪
```
地址: http://localhost:9411
```

---

## 🧪 运行测试

```bash
# 运行自动化测试
./scripts/test-technical-components.sh
```

测试内容包括：
- ✅ 服务健康检查
- ✅ 模拟行情生成
- ✅ 实时行情获取
- ✅ 缓存性能测试
- ✅ WebSocket连接测试
- ✅ InfluxDB连接测试
- ✅ Redis连接测试
- ✅ 并发性能测试

---

## 📊 查看服务状态

```bash
# 查看所有服务
docker-compose ps

# 查看实时行情服务日志
docker-compose logs -f stock-realtime-service

# 查看所有服务日志
docker-compose logs -f
```

---

## 🎯 核心API列表

### 实时行情服务 (8085)

| API | 方法 | 说明 |
|-----|------|------|
| `/api/realtime/quote/{code}` | GET | 获取实时行情 |
| `/api/realtime/quote/mock/{code}` | POST | 生成模拟行情 |
| `/api/realtime/indicator/{code}` | GET | 获取技术指标 |
| `/ws/stock` | WebSocket | WebSocket连接端点 |

### 其他服务

| 服务 | 端口 | 说明 |
|------|------|------|
| API网关 | 8080 | 统一入口 |
| 认证服务 | 8081 | 用户认证 |
| 数据服务 | 8082 | 股票数据 |
| 投资服务 | 8083 | 投资信息 |
| 关联服务 | 8084 | 关联分析 |

---

## 🔍 常见问题

### Q1: 服务启动失败？
```bash
# 检查Docker是否运行
docker info

# 检查端口占用
netstat -an | grep 8085

# 查看错误日志
docker-compose logs stock-realtime-service
```

### Q2: WebSocket连接失败？
```bash
# 确认服务已启动
curl http://localhost:8085/actuator/health

# 检查防火墙设置
# 确保8085端口可访问
```

### Q3: 缓存不生效？
```bash
# 检查Redis连接
docker exec stock-redis redis-cli ping

# 查看缓存键
docker exec stock-redis redis-cli keys "stock:*"
```

---

## 📚 深入学习

### 核心文档
1. [技术组件详细文档](./技术组件说明.md) - 了解每个组件的详细用法
2. [集成总结文档](./集成总结V2.md) - 查看集成情况和性能对比
3. [企业级改造文档](./企业级升级指南.md) - 了解企业级特性

### 视频教程（建议录制）
- [ ] WebSocket实时推送演示
- [ ] 技术指标计算演示
- [ ] 多级缓存性能对比
- [ ] 分布式任务调度配置

---

## 🎉 下一步

恭喜！您已经成功启动了股票系统。现在您可以：

1. ✅ 体验实时行情推送
2. ✅ 查看技术指标计算
3. ✅ 测试多级缓存性能
4. ✅ 探索监控面板

**准备好了吗？** 开始构建您的专业股票软件吧！

---

## 💡 提示

- 💾 **数据持久化**: 所有数据存储在 `/opt/stock/docker-data/`
- 🔄 **重启服务**: `docker-compose restart stock-realtime-service`
- 🛑 **停止服务**: `docker-compose down`
- 🗑️ **清理数据**: `docker-compose down -v`

---

## 📞 获取帮助

- 📖 查看文档: `docs/` 目录
- 🐛 报告问题: GitHub Issues
- 💬 技术交流: 加入社区

---

**祝您使用愉快！** 🎊

---

**更新时间**: 2026-02-06  
**版本**: v2.1.0